{% extends "base.html" %}
{% block content %}
<h2>Welcome, {{ session.user }}!</h2>

<form method="GET">
    <input type="text" name="search" placeholder="Search products..." value="{{ search }}">
    <select name="sort">
        <option value="">Sort by</option>
        <option value="low-high">Price: Low to High</option>
        <option value="high-low">Price: High to Low</option>
        <option value="name-asc">Name: A–Z</option>
        <option value="name-desc">Name: Z–A</option>
    </select>
    <button type="submit">Apply</button>
</form>

<h3>Add Product</h3>
<form method="POST">
    <input type="text" name="name" placeholder="Product Name" required>
    <input type="number" name="price" placeholder="Price" required>
    <button type="submit">Add</button>
</form>

<div class="product-list">
    {% for p in products %}
    <div class="product-card">
        <h4>{{ p.name }}</h4>
        <p>₹{{ p.price }}</p>
    </div>
    {% endfor %}
</div>
{% endblock %}
